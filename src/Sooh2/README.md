# 说明

Sooh2，定位工具包，包括常用函数、数据库等一些常用的工具包封装，设计上独立于开发框架，彼此基本可以独立使用。部分有依赖性的，主要是两个类：配置文件读取 Misc\\Ini（后面的文档中，获取配值都以ini->getIni('xxx')的方式展示，只要给的格式正确，不一定要用Misc\\Ini类） 和 写日志的 Misc\\Loger。 具体依赖情况，参看各个地方的说明。

代码自动加载上PSR4，命名上遵循了驼峰，但代码排版上没严格限制，比如没验证编辑器用的是tab还是4个空格，没限制120个字符宽度等等。

### Misc\\Ini

Ini用于获取配置字符串，除少数地方内置了以外，其他地方的类只要在构造的时候提供配置即可，不一定必须使用这里的Ini。

毕竟是配置封装，为了方便描述，后面的说明中还是有很多例子里用了Ini，但除特殊说明，一般只是初始化构造类的时候用了Ini。

### 数据库



[详情](DB/README.md)

### 定时任务管理器

1. 增删改定时任务时间时，不再需要改crontab文件，直接改php文件即可(crontab里固定一条记录)
2. 记录定时任务执行情况
3. 可以指定某一批定时任务被执行的顺序

[详情](Crond/README.md)

### 消息发送

1. 对于发送消息，在发送上隔离各个通道的差异（短信、推送、系统内消息、日志等等）
2. 支持预定消息模板，不支持按用户区分替换模板中的内容。需要针对个人发送不同内容的，还是需要一个用户一个用户的发送的。
3. 支持同时向多个地方发送消息，即，根据配置，调用一次，可以同时向几个地方发消息（比如同时发推送和系统消息）
4. 支持通道尝试，比如准备2个短信通道，当一个通道不通的时候，尝试使用另一个

[详情](Messager/README.md)

### 工具类 Util

- toJsonSimple($array) json_encode 的另一个实现，不同之处在于：数字不加引号，字符串不编码（只是将"替换成 \"）
- getStrWithin($content,$begin,$end) 获取content中，夹在begin和end之间的字符串
- remoteIP() 获取客户端ip（考虑REMOTE_ADDR，HTTP_X_FORWARDED_FOR，以及过滤内网地址）
- runBackground($cmd-string) linux下和window下 后台执行命令的方法
- isPhone($string) 判断是否手机号（后来想想不建议用这里的，为了兼容已有系统，先保留）
- autoIncCircled($cur,$direction) 数据库kvobj类用的循环整数控制器（为了兼容已有系统，先还是用这里吧）

### autoload

如果没使用 composer, 就用这个加载器吧
